---
title: Teleport Helm chart values reference
description: A list of values that can be set using Teleport Helm charts and their purpose
---

# `teleport-cluster` Helm chart values reference

This reference details available values for the `teleport-cluster` chart.

## `enterprise`

**Default**: `false`

`enterprise` controls whether to use Teleport Communiy Edition or Teleport Enterprise.

Setting `enterprise` to `true` will use the
Teleport Enterprise image.

You will also need to download your Enterprise license from the Teleport dashboard and add it as a Kubernetes secret to use this:

```
$ kubectl create secret generic license --from-file=/path/to/downloaded/license.pem
```

<Admonition type="tip">
  If you installed the Teleport chart into a specific namespace, the `license` secret you create must also be added to the same namespace.
</Admonition>

<Admonition type="note">
  The file added to the secret must be called `license.pem`. If you have renamed it, you can specify the filename to use in the secret creation command:

  ```shell
  $ kubectl create secret generic license --from-file=license.pem=/path/to/downloaded/this-is-my-teleport-license.pem
  ```
</Admonition>

## `teleportVersionOverride`

**Default**: not set

Normally the version of Teleport being used will match the version of the chart being installed. If you install chart version
7.0.0, you'll be using Teleport 7.0.0.

You can optionally override this to use a different published Teleport Docker image tag like `6.0.2` or `7`.

See these links for information on Docker image versions:

- [Community Docker image information](../../quickstart-docker/#pick-your-image)
- [Enterprise Docker image information](../../enterprise/quickstart-enterprise/#run-teleport-enterprise-using-docker)

<Tabs>
  <TabItem label="values.yaml">

  ```yaml
  enterprise: true
  teleportVersionOverride: "7"
  ```

  </TabItem>
  <TabItem label="--set">
  ```shell
  --set enterprise=true \
  --set teleportVersionOverride="7"
  ```
  </TabItem>
</Tabs>

## `acme`

**Default**: `false`

ACME is a protocol for getting Web X.509 certificates.

Setting acme to `true` enables the ACME protocol and will attempt to get a free TLS certificate from Let's Encrypt.
Setting acme to `false` (the default) will cause Teleport to generate and use self-signed certificates for its web UI.

<Admonition type="note">
  ACME can only be used for single-pod clusters. It is not suitable for use in HA configurations.

  A good option for use in an HA configuration might be [`cert-manager`](https://cert-manager.io/docs/).
</Admonition>

## `acmeEmail`

`acmeEmail` is the email address to provide during certificate registration (this is a Let's Encrypt requirement).

## `acmeURI`

**Default**: Let's Encrypt's production server

`acmeURI` is the ACME server to use for getting certificates.

As an example, this can be overridden to use [Let's Encrypt's staging server](https://letsencrypt.org/docs/staging-environment/) for testing.

You can also use any other ACME-compatible server.

<Tabs>
  <TabItem label="values.yaml">
  ```yaml
  acme: true
  acmeEmail: user@email.com
  acmeURI: https://acme-staging-v02.api.letsencrypt.org/directory
  ```
  </TabItem>
  <TabItem label="--set">
  ```shell
  --set acme=true \
  --set acmeEmail=user@email.com \
  --set acmeURI=https://acme-staging-v02.api.letsencrypt.org/directory
  ```
  </TabItem>
</Tabs>

## `podSecurityPolicy`

### `podSecurityPolicy.enabled`

**Default**: `true`

By default, Teleport charts also install a [`podSecurityPolicy`](https://github.com/gravitational/teleport/blob/master/examples/chart/teleport-cluster/templates/psp.yaml).

To disable this, you can set `enabled` to `false`.

[Kubernetes concepts: `podSecurityPolicy`](https://kubernetes.io/docs/concepts/policy/pod-security-policy/)

<Tabs>
  <TabItem label="values.yaml">
  ```yaml
  podSecurityPolicy:
    enabled: false
  ```
  </TabItem>
  <TabItem label="--set">
  ```shell
  --set podSecurityPolicy.enabled=false
  ```
  </TabItem>
</Tabs>

## `labels`

`labels` can be used to add a map of key-value pairs relating to the Teleport cluster being deployed. These labels can then be used with
Teleport's RBAC policies to define access rules for the cluster.

<Admonition type="note">
  These are Teleport-specific RBAC labels, not Kubernetes labels.
</Admonition>

<Tabs>
  <TabItem label="values.yaml">
  ```yaml
  labels:
    environment: production
    region: us-east
  ```
  </TabItem>
  <TabItem label="--set">
  ```shell
  --set labels.environment=production \
  --set labels.region=us-east
  ```
  </TabItem>
</Tabs>

## `chartMode`

**Default**: `standalone`

`chartMode` is used to configure the chart's operation mode. You can find more information about each mode on its specific guide page:

- [Running a quick one-pod Teleport cluster in Kubernetes using Helm (`standalone` mode)](./standalone)
- [Setting up a highly-available Teleport cluster using AWS & EKS (`aws` mode)](./aws)
- [Setting up a highly-available Teleport cluster using GCP & GKE (`gcp` mode)](./gcp)
- [Bring your own Teleport config (`ownconfig` mode)](./ownconfig)

## `standalone`

### `standalone.existingClaimName`

**Default**: not set

The default is left blank, which will automatically create a `PersistentVolumeClaim` to use for Teleport storage in `standalone` mode.

If you would like to use a pre-existing `PersistentVolumeClaim`, you can specify its name here.

<Tabs>
  <TabItem label="values.yaml">
  ```yaml
  standalone:
    existingClaimName: my-existing-pvc-name
  ```
  </TabItem>
  <TabItem label="--set">
  ```shell
  --set standalone.existingClaimName=my-existing-pvc-name
  ```
  </TabItem>
</Tabs>

### `standalone.volumeSize`

**Default**: 10Gi

You can set `volumeSize` to request a different size of persistent volume when installing the Teleport chart in `standalone` mode.

<Admonition type="note">
  `volumeSize` will be ignored if `existingClaimName` is set.
</Admonition>

<Tabs>
  <TabItem label="values.yaml">
  ```yaml
  standalone:
    volumeSize: 50Gi
  ```
  </TabItem>
  <TabItem label="--set">
  ```shell
  --set standalone.volumeSize=50Gi
  ```
  </TabItem>
</Tabs>

## `aws`

`aws` settings are described in the AWS guide: [Setting up a highly-available Teleport cluster using AWS & EKS (`aws` mode)](./aws)

## `gcp`

`gcp` settings are described in the GCP guide: [Setting up a highly-available Teleport cluster using GCP & GKE (`gcp` mode)](./gcp)

## `ownConfig`

`ownconfig` settings are described in their own guide: [Bring your own Teleport config (`ownconfig` mode)](./ownconfig)

## `highAvailability`

### `highAvailability.replicaCount`

**Default**: `1`

`highAvailability.replicaCount` can be used to set the number of replicas used in the deployment.

Set to a number higher than `1` for a high availability mode where multiple Teleport pods will be deployed and connections will be load balanced between them.

<Admonition type="note">
  Setting `highAvailability.replicaCount` to a value higher than `1` will disable the use of ACME certs.
</Admonition>

<Admonition type="tip" title="Sizing guidelines">
  As a rough guide, we recommend configuring one replica per distinct availability zone where your cluster has worker nodes.

  2 replicas/availability zones will be fine for smaller workloads. 3-5 replicas/availability zones will be more appropriate for bigger
  clusters with more traffic.
</Admonition>

<Admonition type="note">
  When using `ownconfig` mode, you **must** use highly-available storage (etcd, DynamoDB or Firestore) for multiple replicas to be supported.

  [Information on supported Teleport storage backends](../../architecture/authentication/#storage-back-ends)

  Manually configuring NFS-based storage or `ReadWriteMany` volume claims is **NOT** supported for an HA deployment and will result in errors.
</Admonition>

<Tabs>
  <TabItem label="values.yaml">
  ```yaml
  highAvailability:
    replicaCount: 3
  ```
  </TabItem>
  <TabItem label="--set">
  ```shell
  --set highAvailability.replicaCount=3
  ```
  </TabItem>
</Tabs>

### `highAvailability.requireAntiAffinity`

Default: `false`

See [Kubernetes concepts: node affinity](https://kubernetes.io/docs/concepts/scheduling-eviction/assign-pod-node/#node-affinity)

Setting `highAvailability.requireAntiAffinity` to `true` will use `requiredDuringSchedulingIgnoredDuringExecution` to require that multiple
Teleport pods must not be scheduled on the same physical host.

<Admonition type="warning">
  This can result in Teleport pods failing to be scheduled in very small clusters or during node downtime, so should be used with caution.
</Admonition>

 Setting `highAvailability.requireAntiAffinity` to `false` (the default) uses `preferredDuringSchedulingIgnoredDuringExecution` to make node
 anti-affinity a soft requirement.

<Admonition type="note">
  This setting only has any effect when `highAvailability.replicaCount` is greater than `1`.
</Admonition>

<Tabs>
  <TabItem label="values.yaml">
  ```yaml
  highAvailability:
    requireAntiAffinity: true
  ```
  </TabItem>
  <TabItem label="--set">
  ```shell
  --set highAvailability.requireAntiAffinity=true
  ```
  </TabItem>
</Tabs>

## `image`

Default: `quay.io/gravitational/teleport`

`image` sets the container image used for Teleport Community pods in the cluster.

You can override this to use your own Teleport Community image rather than a Teleport-published image.

<Tabs>
  <TabItem label="values.yaml">
  ```yaml
  image: my.docker.registry/teleport-community-image-name
  ```
  </TabItem>
  <TabItem label="--set">
  ```shell
  --set image: my.docker.registry/teleport-community-image-name
  ```
  </TabItem>
</Tabs>

## `enterpriseImage`

Default: `quay.io/gravitational/teleport-ent`

`enterpriseImage` sets the container image used for Teleport Enterprise pods in the cluster.

You can override this to use your own Teleport Enterprise image rather than a Teleport-published image.

<Tabs>
  <TabItem label="values.yaml">
  ```yaml
  enterpriseImage: my.docker.registry/teleport-enterprise-image-name
  ```
  </TabItem>
  <TabItem label="--set">
  ```shell
  --set enterpriseImage=my.docker.registry/teleport-enterprise-image
  ```
  </TabItem>
</Tabs>

## `logLevel`

Default: `INFO`

`logLevel` sets the log level used for the Teleport process.

Available log levels (in order of most to least verbose) are: `DEBUG`, `INFO`, `WARNING`, `ERROR`.

The default is INFO, which is recommended in production.

 DEBUG is useful during first-time setup or to see more detailed logs for debugging.

<Tabs>
  <TabItem label="values.yaml">
  ```yaml
  logLevel: DEBUG
  ```
  </TabItem>
  <TabItem label="--set">
  ```shell
  --set logLevel=DEBUG
  ```
  </TabItem>
</Tabs>

